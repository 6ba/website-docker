<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>数据泄露</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <meta http-equiv="Cache-Control" content="max-age=28800000" />
   <link rel="stylesheet" href="/static/proj/plugins/datatables/dataTables.bootstrap.css">
    <style>
      body{
        min-height: 100%;
        background-color: #ecf0f5;
        z-index: 800;
      }
      .p-color{
        color:#444;
      }
      .time-line{
        clear: both;
      }
      .time-de span{
        font-size: 16px;
        color: #dd4b39;
        font-weight: 700;
        margin:0px 3px;
      }
      #alert{
        font-size: 16px;
        color: #dd4b39;
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <!-- Content Wrapper. Contains page content -->
     <div class="">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>
         时间设置
           <div class="pull-right" id="refresh" style="margin-right:20px;" onclick="in_route('setting2')"><i class="fa fa-refresh"></i></div>
        </h1>

      </section>

       <!-- Main content -->
      <section class="content">
        <div class="row">
          <div class="col-md-12">
            <div class="box box-primary">
              <div class="box-header with-border">
                <h3 class="box-title">时间设置</h3>
              </div><!-- /.box-header -->
              <div class="box-body ">
                <!-- form start -->
                <form class="form-horizontal">
                  <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">当前时间</label>
                    <div class="col-sm-3">
                      <p style="margin-top:7px;margin-bottom:0px;">2017年12月06日  14:48:14</p>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">设置时间</label>
                    <div class="col-sm-2" style="margin-top:6px;">
                      <input type="radio" name="optionsRadios" id="optionsRadios1" value="option1" checked style="margin-right:5px;">通过网络获取时间
                    </div>
                    <div class="col-sm-2" style="margin-top:6px;">
                      <input type="radio" name="optionsRadios" id="optionsRadios2" value="option2" style="margin-right:5px;">手动获取时间
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="inputPassword3" class="col-sm-2 control-label">时区</label>
                    <div class="col-sm-3">
                      <select class="form-control">
                        <option>---</option>
                        <option>option 2</option>
                        <option>option 3</option>
                        <option>option 4</option>
                        <option>option 5</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">首选NTP服务器</label>
                    <div class="col-sm-3">
                      <input type="text" class="form-control" id="inputEmail3" placeholder="首选NTP服务器">
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">备选NTP服务器</label>
                    <div class="col-sm-3">
                      <input type="text" class="form-control" id="inputEmail3" placeholder="备选NTP服务器">
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label"><button class="btn btn-primary">保存</button></label>
                  </div>
                </from>
                <div class="time-line">
                  <p class="col-sm-1 control-label"></p>
                  <p class="col-sm-5 p-color">系统运行14天20小时53分21秒</p>
                  <p class="col-sm-6 p-color"></p>
                </div>
                <div class="time-line">
                  <p class="col-sm-1 control-label"></p>
                  <p class="col-sm-5 p-color">系统时间2017年12月06日  14:48:14</p>
                </div>
              </div><!-- /.box-body -->
            </div><!-- /. box -->
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="box box-primary">
              <div class="box-header with-border">
                <h3 class="box-title">处置监督时间设置</h3>
              </div><!-- /.box-header -->
              <div class="box-body ">
                 <form class="form-horizontal">
                  <div class="box-body">
                    <div class="form-group row">
                      <label for="inputEmail2" class="col-sm-1 control-label"></label>
                      <label style="text-align:right;" for="inputEmail2" class="col-sm-1 control-label">签收提醒：</label>
                    </div>
                    <div class="form-group row">
                      <label for="inputEmail2" class="col-sm-1 control-label"></label>
                      <label for="inputPassword3" class="col-sm-1 control-label" style="text-align:right;">M</label>
                      <div class="col-sm-2">
                        <p class="time-de"><span>0</span>小时<span>30</span>分</p>
                      </div>
                      <div class="col-sm-2">
                        <button type="submit" class="btn btn-primary" name="sub">设置</button>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="inputEmail2" class="col-sm-1 control-label"></label>
                      <label style="text-align:right;" for="inputEmail2" class="col-sm-1 control-label">处置提醒：</label>
                    </div>
                    <div class="form-group row">
                      <label for="inputEmail2" class="col-sm-1 control-label"></label>
                      <label for="inputPassword3" class="col-sm-1 control-label" style="text-align:right;">N</label>
                      <div class="col-sm-2">
                        <p class="time-de"><span>3</span>小时<span>0</span>分</p>
                      </div>
                      <div class="col-sm-2">
                        <button type="submit" class="btn btn-primary" name="sub">设置</button>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="inputEmail2" class="col-sm-1 control-label"></label>
                      <label style="text-align:right;" for="inputEmail2" class="col-sm-1 control-label">完成提醒：</label>
                    </div>
                    <div class="form-group row">
                      <label for="inputEmail2" class="col-sm-1 control-label"></label>
                      <label for="inputPassword3" class="col-sm-1 control-label" style="text-align:right;">P</label>
                      <div class="col-sm-2">
                        <p class="time-de"><span>12</span>小时<span>0</span>分</p>
                      </div>
                      <div class="col-sm-2">
                        <button type="submit" class="btn btn-primary" name="sub">设置</button>
                      </div>
                    </div>
                  </div><!-- /.box-body -->
                </form>
              </div><!-- /.box-body -->
            </div><!-- /. box -->
          </div>
        </div>
      </section>
    </div>
    <!-- 模态框（Modal） -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                  <h4 class="modal-title" id="myModalLabel">时间设置</h4>
                </div>
                <div class="modal-body">
                  <form class="form-horizontal">
                    <div class="box-body">
                      <div class="form-group">
                        <label for="inputEmail3" class="col-sm-2 control-label">小时</label>
                        <div class="col-sm-10">
                          <input type="text" class="form-control" id="hours">
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="inputPassword3" class="col-sm-2 control-label">分钟</label>
                        <div class="col-sm-10">
                          <input type="text" class="form-control" id="minute">
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="inputPassword3" class="col-sm-2 control-label"></label>
                        <div class="col-sm-10">
                          <p id="alert">请输入正确的时间！</p>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-primary" id="sup_add">更改</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>

  </body>
  <script>
    $("button[name=sub]").click(function(event) {
      $("#alert").hide();
      $("#myModal").modal("show");
      var a = $(this).closest('.form-group').find('span').eq(0);
      var b = $(this).closest('.form-group').find('span').eq(1);
      sup_time(a,b);
    });
    function sup_time(m,n){
      $("#sup_add").click(function(event) {
        var a = $("#hours").val();
        var b = $("#minute").val();
        console.log(a);
        console.log(b);
        var c = /^(20|21|22|23|[0-1]\d)/;
        var d = /^[0-5]\d/;
        if(a=="" | b=="" | !c.test(a) | !d.test(b)){
          $("#alert").show();
        }else{
          m.text(a);
          n.text(b);
          $("#alert").hide();
          $("#myModal").modal("hide");
        }
      });
    }
  </script>
</html>